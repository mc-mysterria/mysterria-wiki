---
import type {Props} from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/TwoColumnContent.astro';

const isHomepage = Astro.props.id === '';
---

{
    isHomepage ? (
        <!-- Custom homepage layout without default structure -->
        <div class="uap-homepage">
            <slot/>
            <footer class="uap-footer">
                <div class="uap-footer-content">
                    <div class="uap-footer-brand">
                        <div class="uap-footer-logo">
                            <div class="uap-logo-icon">ðŸ”®</div>
                            <div class="uap-logo-text">
                                <strong>Mysterria</strong>
                                <span>Wiki & Documentation</span>
                            </div>
                        </div>
                        <div class="uap-footer-description">
                            <p>Your complete guide to the mystical world of Mysterria Minecraft server, inspired by Lord of the Mysteries.</p>
                        </div>
                    </div>
                    
                    <div class="uap-footer-nav">
                        <div class="uap-footer-section">
                            <h4>Server</h4>
                            <div class="uap-footer-links">
                                <a href="https://mysterria.net" class="uap-footer-link">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                                    Homepage
                                </a>
                                <a href="https://mysterria.net/game" class="uap-footer-link">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                                    Start Playing
                                </a>
                                <a href="https://map.mysterria.net" class="uap-footer-link">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                                    Live Map
                                </a>
                            </div>
                        </div>
                        
                        <div class="uap-footer-section">
                            <h4>Resources</h4>
                            <div class="uap-footer-links">
                                <a href="https://docs.mysterria.net" class="uap-footer-link uap-footer-link-active">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/></svg>
                                    Documentation
                                </a>
                                <a href="/promoters/" class="uap-footer-link">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M15,4V3A1,1 0 0,0 14,2H10A1,1 0 0,0 9,3V4H4A1,1 0 0,0 3,5V6A1,1 0 0,0 4,7H5V19A3,3 0 0,0 8,22H16A3,3 0 0,0 19,19V7H20A1,1 0 0,0 21,6V5A1,1 0 0,0 20,4H15M11,4H13V3H11V4Z"/></svg>
                                    Promoters
                                </a>
                                <a href="https://mysterria.net/store" class="uap-footer-link">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.15.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                    Shop
                                </a>
                            </div>
                        </div>
                        
                        <div class="uap-footer-section">
                            <h4>Community</h4>
                            <div class="uap-footer-links">
                                <a href="https://discord.gg/mysterria" class="uap-footer-link uap-discord-link">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0189 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"/></svg>
                                    Discord Server
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="uap-footer-bottom">
                    <div class="uap-footer-legal">
                        <p>Â© 2022 - 2025 Mysterria. All rights reserved.</p>
                        <p>Not affiliated with or endorsed by Mojang AB.</p>
                    </div>
                    <div class="uap-footer-badge">
                        <span>Built with âš¡ Astro & ðŸŒŸ Starlight</span>
                    </div>
                </div>
            </footer>
        </div>
    ) : (
    <Default {...Astro.props}>
        <slot/>
        <slot name="right-sidebar" slot="right-sidebar"/>
        <footer class="uap-footer uap-footer-compact">
            <div class="uap-footer-content">
                <div class="uap-footer-brand">
                    <div class="uap-footer-logo">
                        <div class="uap-logo-icon">ðŸ”®</div>
                        <div class="uap-logo-text">
                            <strong>Mysterria</strong>
                            <span>Documentation</span>
                        </div>
                    </div>
                </div>
                
                <div class="uap-footer-nav uap-footer-nav-compact">
                    <a href="https://mysterria.net" class="uap-footer-link">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                        Home
                    </a>
                    <a href="https://docs.mysterria.net" class="uap-footer-link uap-footer-link-active">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/></svg>
                        Docs
                    </a>
                    <a href="/promoters/" class="uap-footer-link">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M15,4V3A1,1 0 0,0 14,2H10A1,1 0 0,0 9,3V4H4A1,1 0 0,0 3,5V6A1,1 0 0,0 4,7H5V19A3,3 0 0,0 8,22H16A3,3 0 0,0 19,19V7H20A1,1 0 0,0 21,6V5A1,1 0 0,0 20,4H15M11,4H13V3H11V4Z"/></svg>
                        Promoters
                    </a>
                    <a href="https://mysterria.net/store" class="uap-footer-link">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.15.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                        Shop
                    </a>
                    <a href="https://mysterria.net/game" class="uap-footer-link">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        Play
                    </a>
                    <a href="https://discord.gg/mysterria" class="uap-footer-link uap-discord-link">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0189 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"/></svg>
                        Discord
                    </a>
                    <a href="https://map.mysterria.net" class="uap-footer-link">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        Map
                    </a>
                </div>
                
                <div class="uap-footer-legal-compact">
                    <span>Â© 2025 Mysterria</span>
                </div>
            </div>
        </footer>
    </Default>
        )
    }

<style>
    .uap-homepage {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1rem 0 1rem;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

    .uap-footer {
        background: linear-gradient(135deg, color-mix(in srgb, var(--myst-gold) 8%, var(--myst-bg) 92%) 0%, var(--myst-bg) 100%);
        border-top: 2px solid color-mix(in srgb, var(--myst-gold) 30%, transparent);
        padding: 3rem 1rem 2rem 1rem;
        margin-top: auto;
        position: relative;
        overflow: hidden;
    }

    .uap-footer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent 0%, var(--myst-gold) 50%, transparent 100%);
    }

    .uap-footer-content {
        max-width: 1200px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
    }

    /* Homepage footer layout */
    .uap-footer:not(.uap-footer-compact) .uap-footer-content {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 3rem;
        align-items: start;
    }

    .uap-footer-brand {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .uap-footer-logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 0.5rem;
    }

    .uap-logo-icon {
        font-size: 2rem;
        filter: drop-shadow(0 0 8px rgba(200, 178, 115, 0.4));
        animation: pulse 3s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.05); }
    }

    .uap-logo-text {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .uap-logo-text strong {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--myst-gold);
        background: linear-gradient(135deg, var(--myst-gold) 0%, var(--myst-gold-soft) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .uap-logo-text span {
        font-size: 0.9rem;
        color: var(--myst-ink-muted);
        font-weight: 500;
    }

    .uap-footer-description p {
        color: var(--myst-ink-muted);
        line-height: 1.6;
        font-size: 0.95rem;
        margin: 0;
    }

    /* Homepage footer navigation */
    .uap-footer:not(.uap-footer-compact) .uap-footer-nav {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 2rem;
    }

    .uap-footer-section {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .uap-footer-section h4 {
        color: var(--myst-gold);
        font-size: 1.125rem;
        font-weight: 600;
        margin: 0;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid color-mix(in srgb, var(--myst-gold) 20%, transparent);
    }

    .uap-footer-links {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .uap-footer-link {
        color: var(--myst-ink);
        text-decoration: none;
        padding: 0.75rem;
        border-radius: 0.5rem;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.3s ease;
        border: 1px solid transparent;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        background: color-mix(in srgb, var(--myst-bg-2) 50%, transparent);
    }

    .uap-footer-link svg {
        flex-shrink: 0;
        opacity: 0.7;
        transition: all 0.2s ease;
    }

    .uap-footer-link:hover {
        background: color-mix(in srgb, var(--myst-gold) 15%, var(--myst-bg-2));
        border-color: var(--myst-gold);
        transform: translateY(-2px);
        color: var(--myst-ink);
        box-shadow: 0 4px 12px color-mix(in srgb, var(--myst-gold) 20%, transparent);
    }

    .uap-footer-link:hover svg {
        opacity: 1;
        color: var(--myst-gold);
    }

    .uap-footer-link-active {
        background: var(--myst-gold);
        color: var(--myst-bg) !important;
        border-color: var(--myst-gold);
        box-shadow: 0 2px 8px color-mix(in srgb, var(--myst-gold) 30%, transparent);
    }

    .uap-footer-link-active svg {
        color: var(--myst-bg) !important;
        opacity: 1;
    }

    .uap-footer-link-active:hover {
        background: var(--myst-gold-soft);
        color: var(--myst-bg) !important;
        transform: translateY(-3px);
        box-shadow: 0 6px 16px color-mix(in srgb, var(--myst-gold) 40%, transparent);
    }

    .uap-discord-link:hover {
        background: #5865f2 !important;
        color: white !important;
        border-color: #5865f2 !important;
    }

    .uap-discord-link:hover svg {
        color: white !important;
    }

    /* Footer bottom section */
    .uap-footer-bottom {
        margin-top: 3rem;
        padding-top: 2rem;
        border-top: 1px solid color-mix(in srgb, var(--myst-gold) 20%, transparent);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
    }

    .uap-footer-legal {
        color: var(--myst-ink-muted);
        font-size: 0.8rem;
        line-height: 1.5;
    }

    .uap-footer-legal p {
        margin: 0.25rem 0;
    }

    .uap-footer-badge {
        color: var(--myst-ink-muted);
        font-size: 0.8rem;
        font-weight: 500;
        padding: 0.5rem 1rem;
        background: color-mix(in srgb, var(--myst-gold) 8%, transparent);
        border-radius: 1rem;
        border: 1px solid color-mix(in srgb, var(--myst-gold) 15%, transparent);
    }

    /* Compact footer for documentation pages */
    .uap-footer-compact {
        padding: 1.5rem 1rem;
    }

    .uap-footer-compact .uap-footer-content {
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 2rem;
        align-items: center;
    }

    .uap-footer-compact .uap-footer-brand {
        flex-direction: row;
        gap: 0;
    }

    .uap-footer-compact .uap-footer-logo {
        margin-bottom: 0;
    }

    .uap-footer-compact .uap-logo-icon {
        font-size: 1.5rem;
    }

    .uap-footer-compact .uap-logo-text strong {
        font-size: 1.125rem;
    }

    .uap-footer-compact .uap-logo-text span {
        font-size: 0.8rem;
    }

    .uap-footer-nav-compact {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;
    }

    .uap-footer-nav-compact .uap-footer-link {
        padding: 0.5rem 0.75rem;
        background: transparent;
        font-size: 0.85rem;
        gap: 0.5rem;
        border-radius: 0.375rem;
    }

    .uap-footer-legal-compact {
        color: var(--myst-ink-muted);
        font-size: 0.8rem;
        font-weight: 500;
    }

    @media (max-width: 768px) {
        .uap-footer {
            padding: 2rem 1rem 1.5rem 1rem;
        }

        /* Homepage footer mobile */
        .uap-footer:not(.uap-footer-compact) .uap-footer-content {
            grid-template-columns: 1fr;
            gap: 2rem;
            text-align: center;
        }

        .uap-footer-brand {
            text-align: center;
            align-items: center;
        }

        .uap-footer:not(.uap-footer-compact) .uap-footer-nav {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .uap-footer-section h4 {
            text-align: center;
            font-size: 1rem;
        }

        .uap-footer-bottom {
            flex-direction: column;
            gap: 1rem;
            text-align: center;
        }

        /* Compact footer mobile */
        .uap-footer-compact .uap-footer-content {
            grid-template-columns: 1fr;
            gap: 1rem;
            text-align: center;
        }

        .uap-footer-nav-compact {
            justify-content: center;
            gap: 0.75rem;
        }

        .uap-footer-nav-compact .uap-footer-link {
            font-size: 0.8rem;
            padding: 0.4rem 0.6rem;
        }
    }

    @media (max-width: 480px) {
        .uap-footer {
            padding: 1.5rem 1rem 1rem 1rem;
        }

        .uap-logo-text strong {
            font-size: 1.25rem;
        }

        .uap-footer-nav-compact {
            flex-direction: column;
            gap: 0.5rem;
        }

        .uap-footer-nav-compact .uap-footer-link {
            justify-content: center;
            width: 100%;
            text-align: center;
        }

        .uap-footer-bottom {
            margin-top: 2rem;
            padding-top: 1.5rem;
        }

        .uap-footer-legal,
        .uap-footer-badge {
            font-size: 0.75rem;
        }
    }
</style>
